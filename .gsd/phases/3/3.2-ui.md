---
phase: 3
plan: 2
wave: 1
depends_on: [1]
files_modified:
  - app/embed/[chatbotId]/page.tsx
  - components/chat-interface.tsx
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Public URL /embed/[id] renders chat UI"
    - "Chat UI talks to /api/chat"
  artifacts:
    - "components/chat-interface.tsx exists"
---

# Plan 3.2: Embeddable Interface

<objective>
Create the public Chat UI that will be embedded inside an IFrame.
Location: `app/embed/[chatbotId]/page.tsx`.

Purpose: specific instructions to visual interface.
Output: specific instructions to working Chat UI.
</objective>

<context>
Load for context:
- .gsd/SPEC.md
</context>

<tasks>

<task type="auto">
  <name>Create Chat Component</name>
  <files>components/chat-interface.tsx</files>
  <action>
    Client Component using AI SDK `useChat` or internal state.
    - `messages` state.
    - Scroll to bottom.
    - Input area.
    - Styling (clean, maybe themable via props later).
    - Calls `/api/chat`.
  </action>
  <verify>ls components/chat-interface.tsx</verify>
  <done>Chat component created</done>
</task>

<task type="auto">
  <name>Create Embed Page</name>
  <files>app/embed/[chatbotId]/page.tsx</files>
  <action>
    Public page (not behind Dashboard layout, no Auth).
    - Renders `ChatInterface`.
    - `layout.tsx` for embed might need to be clean (no sidebar).
  </action>
  <verify>ls app/embed/[chatbotId]/page.tsx</verify>
  <done>Embed page created</done>
</task>

</tasks>

<verification>
After all tasks, verify:
- [ ] Page renders locally without login
</verification>
