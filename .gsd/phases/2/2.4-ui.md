---
phase: 2
plan: 4
wave: 2
depends_on: [3]
files_modified:
  - app/dashboard/chatbots/[id]/page.tsx
  - components/knowledge-upload.tsx
  - components/knowledge-list.tsx
autonomous: true
user_setup: []

must_haves:
  truths:
    - "User can upload files via UI"
    - "User can enter URL to crawl"
    - "User sees list of sources"
  artifacts:
    - "Knowledge management UI components"
---

# Plan 2.4: Knowledge Base UI

<objective>
Create the Knowledge Base management interface within the Chatbot details page.
Users should be able to upload files and input URLs.

Purpose: specific instructions to user interaction.
Output: specific instructions to UI components.
</objective>

<context>
Load for context:
- .gsd/SPEC.md
</context>

<tasks>

<task type="auto">
  <name>Create Knowledge Components</name>
  <files>components/knowledge-upload.tsx, components/knowledge-list.tsx</files>
  <action>
    1. `KnowledgeUpload`: Tabs for "File Upload" (Input type=file) and "Website" (Input type=url). Calls APIs.
    2. `KnowledgeList`: Fetches `knowledge_base_sources` and displays table (Name, Type, Status).
  </action>
  <verify>ls components/knowledge-upload.tsx</verify>
  <done>Components created</done>
</task>

<task type="auto">
  <name>Create Chatbot Details Page</name>
  <files>app/dashboard/chatbots/[id]/page.tsx</files>
  <action>
    Page layout:
    - Header: Chatbot Name.
    - Section: Knowledge Base (Embed Upload & List components).
    - Fetch chatbot details and sources server-side.
  </action>
  <verify>ls app/dashboard/chatbots/[id]/page.tsx</verify>
  <done>Page assembled</done>
</task>

</tasks>

<verification>
After all tasks, verify:
- [ ] Components render
- [ ] Interactions trigger API calls
</verification>
